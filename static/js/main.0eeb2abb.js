!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/waterfull/",t(0)}([function(e,t,n){n(24),e.exports=n(30)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},A=n(3),l=r(A),c=n(2),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.pipes=[],Array.isArray(e)?(n.sprite=(0,c.animatedSprite)(e),n.waterLevelImages=!0,n.waterLevels=Array.apply(null,Array(t.WATER_IMAGE_SMOOTHING_LEVEL)).map(Number.prototype.valueOf,0),n.waterLevelsPointer=0):(n.sprite=new PIXI.Sprite.fromImage(e),n.waterLevelImages=!1),n.sprite.anchor.x=.5,n.sprite.anchor.y=.5,n.addChildAt(n.sprite,0),n}return a(t,e),u(t,[{key:"addWater",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addWater",this).call(this,e),this.updateImage()}},{key:"lowerWater",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"lowerWater",this).call(this,e),this.updateImage()}},{key:"destructor",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destructor",this).call(this),this.pipes.forEach(function(t){var n=t.getOther(e);n[0].pipes.splice(n[0].pipes.indexOf(t),1),t.parent.removeChild(t)})}},{key:"updateImage",value:function(){if(this.waterLevelImages&&this.isActive()){this.waterLevels[this.waterLevelsPointer]=this.water,this.waterLevelsPointer+=1,this.waterLevelsPointer>=this.waterLevels.length&&(this.waterLevelsPointer=0);var e=(0,c.avg)(this.waterLevels);this.sprite.gotoAndStop(Math.round(e/this.getCapacity()*(this.sprite.totalFrames-1)))}}}]),t}(l.default);t.default=g,g.WATER_IMAGE_SMOOTHING_LEVEL=23},function(e,t){"use strict";function n(e,t){var n,r,i;for(void 0===t&&(t=e.length),i=t;i;i--)n=Math.floor(Math.random()*i),r=e[i-1],e[i-1]=e[n],e[n]=r}function r(e){for(var t=[],n=0;n<e.length;n++){var r=PIXI.Texture.fromImage(e[n]);t.push(r)}return new PIXI.extras.AnimatedSprite(t)}function i(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function o(e){return e.reduce(function(e,t){return e+t})}function a(e){return o(e)/e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=n,t.animatedSprite=r,t.distance=i,t.sum=o,t.avg=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.level=0,e.targetLevel=1,e.water=0,e.upgradeClock=(0,u.animatedSprite)([n(19),n(20),n(21),n(22),n(23)]),e.upgradeClock.anchor.x=.5,e.upgradeClock.anchor.y=.5,e.addChild(e.upgradeClock),e}return o(t,e),a(t,[{key:"getWater",value:function(){return this.water}},{key:"getCapacity",value:function(){return 1}},{key:"addWater",value:function(e){this.isActive()?this.water=Math.min(this.getCapacity(),this.water+e):(this.water+=e,this.updateUpgradeClock())}},{key:"lowerWater",value:function(e){this.water=Math.max(0,this.water-e)}},{key:"isActive",value:function(){return this.level===this.targetLevel}},{key:"getRequiredWater",value:function(){return 100*Math.abs(this.level-this.targetLevel)}},{key:"upgrade",value:function(){(t.LEVELING_ENABLED||this.targetLevel<1)&&(this.targetLevel+=1,this.updateUpgradeClock())}},{key:"downgrade",value:function(){this.targetLevel>0&&(this.targetLevel-=1,this.updateUpgradeClock())}},{key:"destructor",value:function(){this.parent.removeChild(this)}},{key:"tick",value:function(){this.getWater()>=this.getRequiredWater()&&(this.water-=this.getRequiredWater(),this.level=this.targetLevel,this.updateUpgradeClock(),this.level<=0&&this.destructor())}},{key:"updateUpgradeClock",value:function(){this.isActive()?this.upgradeClock.visible=!1:(this.upgradeClock.visible=!0,this.upgradeClock.gotoAndStop(Math.round(this.water/this.getRequiredWater()*(this.upgradeClock.totalFrames-1))))}}]),t}(PIXI.Container);t.default=s,s.LEVELING_ENABLED=!1},function(e,t,n){e.exports=n.p+"static/media/background.448e2e8e.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAxCAYAAAB3aZEhAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QYGBh4RAZurZAAACl5JREFUaN7Vmt1PW/cZxz9+h2OMfUxsIBBsAuEtIymQJirNFrJWa7upIl03dZO2KpN2t5v+CbmvJiXVLnY1bauWm01bq6haUq1Np3ZEaZuUhJYACrHjkJjY2McvxcGvZxfOORzbxwZCpaqPdIQ4L7/f833en+dnZFmWA4GAfOrUKdnv98vAd+by+/3yqVOn5EAgIMuyLBuDwSBjY2OcOHGCy5cvI8vyd+a6fPkyhw8fZmxsjGAwiGF6elqemprijTfe4JugVCpFaj2D1WLCajbjconqs0RCIlcokMsXabULtLa2fiN7njlzhtnZWQwul0sOBAK4XK5dLRiX4uTyebyzlfeTE0bMViuFXA7ntVLFswejMh2eNsxmy672DgaDnDx5EgMgy7K8a21k/jSLd2RQ9/mDUZm9c4aa+9IRK8VSAafDgc3WtCseDAbD7sHEpTi5v3xZF8h26MGoTHdnx67BGHdrr4aLc4gecUffrB9vrfjr+TBKIiHt2neMu/WT7EODLqONyP5JquKvxeNF/vfNbxeMXV6ty2g15aMR8tGILmjt/W8NTCMT0iOLx9sQdDqd3NXe5kYP0+kksmygmM8CIBii5CxdOBxO9R1BCoPGZ/SYzEcjFUCqnymkXVcLrvr+jsFIsSjZt2/VOPd69AYrwxLdk1OYCk1kxE5sOtrRgqoHpB5l4/NkLkVVf0y+NoDdakJoaRzCa0JzXIpjuDiHUHLrMqFIMmOMIx8skvvQvK2wrKcdZa3s0jzZvUnsrzxP9oN7CCV3XSFEnoI9bndNotUNzYaLczjbhupK0+LxYvF4EUpuHvzhdtnMGlBkfpH5f7y7pXbMrYOkzq80BALgnYXVaIxCId84AMSluLqYnmNrndvi8XLgxDM7jkbKu1qtCIUQQsmNd2RQFZZePlJo75yBtXh8ZwFAL+RKR6yIn+e27QuiR4SRoQrAWiBb7SkdsSLqBJVCUW6sGYvZhBSV6sb/9eOtiJ/nWD/eSmR+kc/efEv3XSWnKPcEKVyxrhaIUAiRMffUF8ZjwdWYb+RhYzAOh5O1l/ZWmJKWSW2E8o4MYhmXKzRUnRi1JEjhsqM/vhQgALaBEV0TrBaKlvw9++pHs1QqRfG9LyqiWKP8oNDX//tIZUZP8gqFwkl6OjX5qRAivbyGaXBc9/utkm7kKWiyWmlpacFstmxGs7gUx3bhrhrFqiXRyMEzYqfKeHZpHikq1ZiUooFQOEkonOTCzHmufZrA0beHjNi5aSalK9sCokS11k9zxBMJstmNTc3Ez3+Es21oR5m7Wjt6FAon6Uotc7+1D4Cu1DIAd4rX2G+awDQ4XvNNIy3V4+Xm3hhjowfL0Sz70ABt2/+4WmO2gZEKP0gvr7EUM3N97QLje15mgDKIpVg5eA60TZS1opf9l+bJiJ0VlcdWfAzfKO6+0KzeJBROkl5eU//vHj/G4ZcfkX59iebJPOIzm2aUXl4jFE6qJghwa+YmF2bO70igNXnmwUkn3of6idL+Saqm1qrWjBSVEKqejb8yQ3bCzmKgmeH+FgyxIbonzcAVWHpaNbsF+siJN7BKfoYnD/HUwC92DETxUSNAf2+vrpNXN1H1ynulpBnylKvc5sk82Qk7VlHE2baPQqqT0iErEcmD/YUDtPzgUwACPhNdqWUOmUV6Op0VwWAnGrG1y5tgDAaZjDG+ZY+igIrML+qCV0ws0h/AfHUAo9BDz6SNpuFuLP3lb0Wbk2JhjIDPRO/dIo6+PTVC2UlplI9GiB3t3jQzh8NJ5rl9RM4v6jqe1sQi84t88N7vGR4/SH/T4cq88ThSdZiSxCa8dIr+is27hxPkVsHy41lG35dZlH5Jj9m5rUhWL01kjHH6+0ZrW4BsfJ7subm6iyo5SLFRRZJCIcTNQvne/bUog13L+H/VhVHowSi2q99v3FpByiZxmu9ju7bO9X9NAjBx1KWWNNWRTLc9Ll3h0e2yEMy/exrBu19/1JROJ1mZ+YiumY0tpSVFJRVQcfE6SzEzZtdVPL9x4G7Lkyx0IdqcWDvKvcfDu2us3bNR/KIFgD0fL+HoKecgxdyq67Tm/qTKuJaKQx1Iz3Sz39+39dwsE7nD3S/m6Ii7MC2sqlKrtuvi4vWqHFKgeTJPpD+A93YvhWNLWEWRnLRZFSxdvULvzG9x9O1R/UwPjLYIFQohFqJOuk4OsupO0D05VdFOb3sImE4nMT2KYTJvkLkUxbSwquYHbV5R6E7xGo7hEvZn0xSL3ZhMK2V/e1BiOH2Crz6+iee+C0dPX12NKHR74wbNPzxGe6eDpg4/xeY23ZnAjiaa2ewGmX9eVbVUE54fS249cLcMsvuPtP3Aj7H5WYqRv9Gydpj/fr2EuzTEtP2FCo1ogWjN2li6Qiw2RNPp0YoB/BOPZwuFPOlkguzbt1Sn126o+I1iErdmbnKbLwF47ehx3l2/RNy4wPi9cu1XSBxj4qiLhWhZukolrZjwrZmbDE8eqvHVjDGO8NNjdQcaBoOhcaepDMRFj4igRBiPWFFZ333vEpZxmb2dLyJIYYYnD2EP+wBYiMJGwI7ABAW+x22+pB90gYgeETwikZX/YA8nGXm2snoXSm7kyMeknMfqHoXU1UwiIbHx57ktC77P3nyL4clDavbWBohbM7UjV3uvr6KvqQ7H9SY4FfSzAzUaqmtmmcgdUudX6m7QaDNtuA6Fk6oP6YFQgKizgm3ulTHGcfx8smLcpDtqKhTyZD+4t63Fq8dPT0KiR9z2KYKyh1Byk/77zNaz5tBKSG2dtwukXgeqaGKgrVChFdvAiHpVC6NG00esuvtlHxpqZtM1YDJZ+YmlbPF41WinSNve61M7Ta1Z6bXKegKsN50BiMbWGoPpun7/iZs1RapahtonwPRqu66jWzxerv/1bk3bref0Wg1ZPF5Ej0ipuIsjja0ml+9/+BahcKXq1/zt+MZG6zq57ycv1OQUPcvQakjhw2jaaqL5oxGoOhXe7gj26dFfqwwr3Wf70e8jiG6koXtQ0jHN10ex6JiSdj89cFJUwuXsagzGZLEBj57oVEs5DchHIwhSmOJQB26xPLuWDxZhbvsTS23LoceDrV1GFN2NzUwQmonML+pKZ6vAUB15bM9tTh0tvRO63Wy9VlxvfrfjY0Cz2ULT6dEnyh/i5zny0QjZpXmKQx0Um9sqRr/ywSJSVKo78t0uSVGpQlAqGEerg0QiUWlqJiPJCSPJ2ALJ2ELD+UC9SYntuX01pbqld0IdPmwlde0AMmOMV1xfv9yF4N2vvhsMBvH5fJheevGlM8FgkKmpqU3zsDXRLNhpHvXTPOrnUXcrphurmOz2LRkw3g+Q3ZvEdeL5Wju3NSG3l0hejdBsb6aUWdddUwFayqwDsHqsjdax/RgHOnBODOJ2V/rK2bNny0q4ePHimdOnT5PNZvH7/bq/oSkUcpgWkw3BaM3L+urzdUt1i10kJyyz/lVOF5BerRd0rDNwYKBmzWAwyLlz5zh79izvvPNOucoMBALy9PS07PP5vlO/N/P5fPL09LT6e7P/AwvA64oJcjKnAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAh3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjadY7LDcMwDEPvmiIj6GfKGqcIEqAbdPzIcAyf+g4SQQgU6fp9bzoGwkreoiMBLjw99VOi88SYRVnGrjl5t0kp3TaZToHswb4P/fUXzdBxh0eg4cSpla6XqXnNqkEjlUeN3CGy3tgff7V4AEFILBfIegTdAAAKAmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjE3IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTciCiAgIHRpZmY6SW1hZ2VXaWR0aD0iMTciCiAgIHRpZmY6SW1hZ2VIZWlnaHQ9IjE3IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4948hiAAAABHNCSVQICAgIfAhkiAAAASVJREFUOMuVkjGSwjAMRZ9lKrAzaXwBTsJxuDFDTZGCJpOEinG0xY5NbEKW/Y1SfH89STHn81kvlwtJx+MR5xzGGGqpKl3Xcb/fmaYJ5xyn0wm53W4Mw5CN+/2eLTnnch2Ggev1ym6aJpqmASCEgLV2M+RwOORvEaHrOmRJ8Y2stYQQChoRkQJVVT8GGGNQVbz3BY2kGQGapnlb6LLJ2t6cc2RHQqw1z/MbzXIk4BWyJKopahpVLfySKNKFlgHzPBf145WAYlFrBHVAPZIkvJpgTSJCfU0ACSHQtu1m579+vF26wLcP6yYhBMR7/6+A5/NZVO/9L8mW+r6nbVv6vn8bJcb4Gqc2W2uJMWKtXQ0AeDweeScyjmM2paAYY65rAcugcRz5ATDZfVh2sYuTAAAAAElFTkSuQmCC"},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){var o=this;n(this,e),this.code=t,this.isDown=!1,this.isUp=!0,this.press=r,this.release=i,this.downHandler=function(e){e.keyCode===o.code&&(o.isUp&&o.press&&o.press(),o.isDown=!0,o.isUp=!1,e.preventDefault())},this.upHandler=function(e){e.keyCode===o.code&&(o.isDown&&o.release&&o.release(),o.isDown=!1,o.isUp=!0,e.preventDefault())},window.addEventListener("keydown",this.downHandler,!1),window.addEventListener("keyup",this.upHandler,!1)}return r(e,[{key:"close",value:function(){window.removeEventListener("keydown",this.downHandler),window.removeEventListener("keyup",this.upHandler)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},A=n(1),l=r(A),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n(5)))}return a(t,e),u(t,[{key:"getCapacity",value:function(){return 0}},{key:"tick",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tick",this).call(this),this.isActive()&&(this.water=this.level)}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return I=e,p}}function o(e,t){try{return e(t)}catch(e){return I=e,p}}function a(e,t,n){try{e(t,n)}catch(e){return I=e,p}}function u(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&h(e,this)}function s(e,t,n){return new e.constructor(function(i,o){var a=new u(r);a.then(i,o),A(e,new f(t,n,a))})}function A(e,t){for(;3===e._81;)e=e._65;return u._10&&u._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){C(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?c(t.promise,e._65):g(t.promise,e._65));var r=o(n,e._65);r===p?g(t.promise,I):c(t.promise,r)})}function c(e,t){if(t===e)return g(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===p)return g(e,I);if(n===e.then&&t instanceof u)return e._81=3,e._65=t,void d(e);if("function"==typeof n)return void h(n.bind(t),e)}e._81=1,e._65=t,d(e)}function g(e,t){e._81=2,e._65=t,u._97&&u._97(e,t),d(e)}function d(e){if(1===e._45&&(A(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)A(e,e._54[t]);e._54=null}}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1,r=a(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,g(t,e))});n||r!==p||(n=!0,g(t,I))}var C=n(44),I=null,p={};e.exports=u,u._10=null,u._97=null,u._61=r,u.prototype.then=function(e,t){if(this.constructor!==u)return s(this,e,t);var n=new u(r);return A(this,new f(e,t,n)),n}},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,n){e.exports=n.p+"static/media/out_0.254d60d1.png"},function(e,t,n){e.exports=n.p+"static/media/out_1.d9d98d9c.png"},function(e,t,n){e.exports=n.p+"static/media/out_2.4954e652.png"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,n){e.exports=n.p+"static/media/reservoir_0.51fc23b2.png"},function(e,t,n){e.exports=n.p+"static/media/reservoir_1.94a19a26.png"},function(e,t,n){e.exports=n.p+"static/media/reservoir_2.c4130497.png"},function(e,t,n){e.exports=n.p+"static/media/reservoir_3.ad98e279.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAQAAADodD9GAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhBgkNNTRo2X39AAACGUlEQVQ4y42UzUvUURSGn/nppKQmgpWWA5a6SSvdBImKYWFEtUhauGtjiwihosA/oVVQi6BVi5BaFIEJEVhOKFTWxiQrRM38yIJKQVMafVo4TiNk43tXF85z7zmH856QkpB8o48uXjHMFLmUsp8aDlJGGkkyoTnvecR8A0mckFlWetWxv2EmkFFbzRMxx4jV1lttxC2GxLANRl1aiwx53DQx1yYfOuBn7zrogJ1esFjEUtvjEKrjNhuI+7zjjKqzXvSDqr+NetR0sdSeVWTOc6aJVfYm8l006vfEbczzZog1vl9BnrldLLPb9TVtkxjyiosyb4uY461Eef/WWyvF3fbJcyNiY1Ia6+m6YdNtM3jKFAH15JFK9RQR4wlBLzEKOJwSgGLKgQGCSaCIog0g2ZQDi6RPA4V8pJMGitcNn+URYZYACAo28P6KwqvDWSUecCplvzRmq4hBPjDC8AZ+maEfyCCoJcwP+jaAjDIEVBAcI0KMB3xNASzTwSQZnIJ5z4rZ3k5RSb97xBJfi3ZbKJYb/Q8w4klDBra5ILrg5RTDP2WLgVjv6KrFJuIW2+tNJ+IWuxS32C87bXSTWOHLZCOPedo0MdM6b/jGcTscctB2z1ggYoX3k42s+slWt4q4yZ1We8g6S9wsYqaN9ri8dl2ozvnYZretWUqYZa3X/JLUilDy6oOf9NLFC94xQ8AuKmngBDsIkmL+AGsBv0F+H5iKAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTA2LTA5VDEzOjUzOjUyKzAyOjAwkNQpfQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNi0wOVQxMzo1Mzo1MiswMjowMOGJkcEAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhBgkNNTRo2X39AAACWUlEQVQ4y42UXWjNYRzHP///zmwcY9vJJHOxlKxEO2ad8j55KUUpRWo3ckFJ3LnTRJQUcsPd5I5IaVgUEbIpL/NyYu6oMcPYC9v5uDjb2X9m5vvcPc/38/y//1/P7xcoEfXyhIfc4xVv6KacCmpIkWImQdRmTgM2u9sKCyWy8ix2uQ1+Gzaag7ptsNJADC2xwqXWWu0MJ4k4xe0+MzPoDbLxPnGMs3wmj7lsopbpFPOajxTSQSNNdBIwn6OsHY7Xa70F4hR32Wq/qp9cZ5lJ93jdBqsNxJRPh+OdMyGWedquXO52F4kYOMt9NrrFmLjatiyUtkqMe8i+yM+2W5MrRmidj10jxjymkvGIeeI2O3UMCAs8YKOzxKSthu1cY4BydlLM2OrjFN1sBF7SRPiUF8AykvxbHVxgJQl6uEzYzBdCFjKR8XSfBNXAfcKb/CLOnFEWyYz6VieVQB+x28hkJtBAOSsIc5Z85iF5EShkYPA8NlaYqRyn/4+9OHez0HJu8Z2f1P1hCCn5Sw0/Z89Wkc8P0uOWIftCW4FCwhpKydBCz39Aj0gDKcIqksAdHo+LfOM8XcTZzJjPaLRuOE2s8a3oO5eIcev98Q+kxcVioWeGWuOSZWKRByOt8d67uU7VZheLuN4PQ1CfJy0Vi9xhy2ATPnC//WrG954xKeIqn0dnRK8nTIiBc93rFd/6wqt+8JEnXebEEUhksPR4zipjYmCRla5wpSlnmC9iiVtzSATSjGkPu2Dw3qEVmHCDF/0aKUowclgOkKaJRtpoo59SZjOfddRSMmJY/ga/pWNI/lnNIAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wNi0wOVQxMzo1Mzo1MiswMjowMJDUKX0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMDlUMTM6NTM6NTIrMDI6MDDhiZHBAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhBgkNNTRo2X39AAACXUlEQVQ4y42UW2jOcRjHP///3vGirR2YGGpJsRplr3OyzWk1UbILkTsX1Fq5kRs5lNwoh5TTDZe0QhhGrpyykkbNCCXJxua4vXi3j4uXd/+V13x/V796Ps/z/T39nidQIkryiPvcpp3n9DKJMuYyn/mUEkTDzCjlAxssMy6Rk2OBVZ6yazDQDNTrcacZiKGFlrnYGhNOcLSIo623LQMFaXtdHOAk3eQwnbXUMJ4CntJFnA8000IPAfPYxYq0TdU+t5sr5rvVJ6ZUfW+tJc620WueMWEgzvLhoL0mx4mlHvNLxkKnc0QMnOw2m11vTKzzbRrqsFIc6f7fNf5AcyPN2OBdl4sjPWi/9LvPHLHeTs0CYWiD55wgVthm+IYL9FNKI+PIrgFO08NaoJ2zhO28BJZRyb/1mevUUMxPrhK28pEY84gznFopoAJoI2wlxQjGDovAO95SDiSJ3WGAfMZwhklUEWYBQqop4juj0rcvQEDsPypFUlQT8JUfbKImax0Y4CaXidGdhhaSSx+v/yN/CaU8A+KECQpIcZ/ksNACeukAKghnUg7c4N4wSDFrOE8ncdYRllBLDm84Qs+/ns5G5AJQzirQVy4Tx7jHb1n+XswNXnSRGPfEn9G44ngxz71/HY0p7vSSiyU6Gpr0sEVinpt94HdVu13tFFe6wyaPmhBxqY+jOyLpIYvE0Klu8aLP7fKOLd7woFWOGoJEFkufx60wJgbmOcMlVrvQiY4QsdD1GSQCacoOdzv9d97B8StxtU1+ijQpGLosf/CUWzTzghekKGIqCepYQOGQZfkLBCgoXT5qtPIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDYtMDlUMTM6NTM6NTIrMDI6MDCQ1Cl9AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTA5VDEzOjUzOjUyKzAyOjAw4YmRwQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhBgkNNTRo2X39AAACmElEQVQ4y4WUS2iUVxiGn//PJDFJHWNqEpKpxWugKZUq4yQktNokC2mlZiO4aSV01YIUunBTaOlFEXGjgdZgKcULXRSqtoiaBrooLrwWIZJoWxfFNjYmjiZeJpjk6SIz459o4ns258D7nvN9h+99AyWCDJc5yxn6+ZMHvMBSUjTSSIIgSjOPcc+7zaXOk8gqsNx1HnTkMdG8aNSvXWkgFlrlatfbYtIaS0WM+559eVEwVd4QX/AdIxSwmndJkaCQPm5Rwm1O8AtpoJW9vPy4vIyfWyzG/cD+7G1DbrDSBrfb7WGTIrbamytvwi4rxIT7Hc2XMOhaEQOX+bHHfU3EtxyYEl1zlVjmHscjzQ6ainzGO3bbLM7zgMqkuywwsMO0ziLCYj/zeyvEdf5tOMgpJljJR5QzO8boZJI24AI/EV6kF2iljrkxxAnaiXOf44RnSFNIkiKehUvUUgdcIDzKBM+x5CmkYMb5P+6wHEgT6wOKidPP3QgtIM29iKCMN7nHEAkAYlOUET7hHGF0Jrk746VJJrK7WIpzjHGHDMNz9HOfH4jTwT8AhO0UMcq/uamaA7VU8xewkDBJOY/4nQbizxCtYYBrQJJwFfVAN4vYOKekhnaOMUIZmwgrWU/ADY6ylRWzSkp4n4AeIMnboFd8VZzvDo+4JD9tcZcb5CfvQ3tsEkv9JufcQz4vVtnpj75uTMSkn1ogBr7ol57OWmOzt3LOHWM3O8mwgC20cZPfuIospp8VrCHJTb7lItDKPuqBrN2H+Yq9DBPwEhtIUc0DxikloJdjnOUhT9hd9aFdvmJMDIxbb4stNllrkYgLpwXLtAi76nbrLJkWYaGVbvbnSBDk0yiHDH/wKye5znXGqaCeBt6geYZB/wdgle6kWXYD1QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wNi0wOVQxMzo1Mzo1MiswMjowMJDUKX0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMDlUMTM6NTM6NTIrMDI6MDDhiZHBAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhBgkNNTRo2X39AAACk0lEQVQ4y4WUXUjVdxjHP+d/zpEUS1cdEzulpyRs5bKIassLg1wUsjZEiLqxmy4GQdBdtKJGEPRKXWz0xoJYXUTdlAWrzQqX5mpjkGzMrJaM2sxmRac8yqcL9aiU+n1unovfh++P5y2kDNEzmmniZ9q4BxSTRwXllJHHMJlWt1etcYpRGRJRY1Z5wVeDDw0NOHXwDUdoBzLIJcYU4An/8T/dwGTWs4mCfqN+qINtHKebcSzhC2aQJBNIkkkb52kiSZRP2c3cwe899UszxHx3WO8uy51qtdVOtdxd1nvYhIiVtqmKptxrlpjwhHssNSLiGteIGLHUA571YzHsZpN9UKOFYr4n3en4dAFyzU3n2X7tj5aIMS+qvHCDGHGL3zlpWN2GxgS/dZ/ZYo3P5IZxsdwrlo2IIJZ4zdVizAsG13lCmCr+4C6j6S8aWE6UTn4i+I0Uk1jAZVKjQr3UUcpMerlF8DswjSitjKX7pJgO/EukFcjhOTEW8wP/jADksIo3RJkOtBKMaZBWiCSPAQiKgS4m0MHJEX2gi9M0EuIFUEzwEfCAJKVjOiUI8xDIIygjSidNVDJuVCTMSlpoJ8wigmXEkXPEmTMqVMxCztPDRJYRzKcKaOE6G5k8IpLNBu5wE6hgKWizs/oH9qiF6bEpsCCdj3enp5wmxr3aN+W9HjJTLPKM31vWvxq1rhcx8EP3e8rZYsTtpgbWvZOvOEY3+dTyCS00c5cEGfxJgqXM4zYn+JuAzzhIIe+se4TZfM4SsnhJiCx6+IU6mkiRwVq2MrOvzUMPyzEeIQEfUEQO0MUjOukhRJy1bCY2UJfBw/TGRjda9M4Ji7vOBl+/74T16TW/col67tMOxElQwQrmkjOsAW8B17u3v86gtDYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDYtMDlUMTM6NTM6NTIrMDI6MDCQ1Cl9AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTA5VDEzOjUzOjUyKzAyOjAw4YmRwQAAAABJRU5ErkJggg=="},function(e,t,n){"undefined"==typeof Promise&&(n(43).enable(),window.Promise=n(42)),n(46),Object.assign=n(41)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(26),u=r(a),s=n(27),A=r(s),l=n(29),c=r(l),g=n(31),d=r(g),f=n(32),h=r(f),C=function(){function e(t){i(this,e),this.settings=t,this.stages=new u.default,this.topScore=new A.default,this.worldGenerator=new c.default}return o(e,[{key:"start",value:function(){var e=this,t=function(){e.renderer=PIXI.autoDetectRenderer(e.settings.width,e.settings.height,{antialias:!0}),document.body.appendChild(e.renderer.view),e.stages.addStage("play",new d.default(e.stages,e.settings,e.renderer.plugins.interaction,e.worldGenerator)),e.stages.addStage("topScore",new h.default(e.stages,e.topScore,e.settings)),e.stages.changeStage("play"),e.gameLoop=function(){e.stages.beforeRender(),e.renderer.render(e.stages.current),requestAnimationFrame(e.gameLoop)},e.gameLoop()};PIXI.loader.add(n(4)).add(n(5)).add(n(10)).add(n(11)).add(n(12)).add(n(13)).add(n(6)).add(n(14)).add(n(15)).add(n(16)).add(n(17)).add(n(18)).add(n(19)).add(n(20)).add(n(21)).add(n(22)).add(n(23)).load(t);
}}]),e}();t.default=C},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this.current=void 0,this.list=[]}return r(e,[{key:"addStage",value:function(e,t){this.list[e]=t}},{key:"changeStage",value:function(e){if(!this.list[e])throw new Error("Illegal stage name.");void 0!==this.current&&this.current.unload(),this.current=this.list[e],this.current.load()}},{key:"getStage",value:function(e){return this.list[e]}},{key:"beforeRender",value:function(){this.current.tick()}}]),e}();t.default=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),window.localStorage.topScore||(window.localStorage.topScore=JSON.stringify([])),this.topScore=JSON.parse(window.localStorage.topScore)}return r(e,[{key:"addScore",value:function(e){this.topScore.push(e),this.topScore.sort(function(e,t){return parseInt(t,10)-parseInt(e,10)}),window.localStorage.topScore=JSON.stringify(this.topScore),window.ga&&ga("send","event","Game","score",{metric5:e})}},{key:"getTop",value:function(e){return this.topScore.slice(0,e)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=function(){function e(t){r(this,e),this.world=t}return o(e,[{key:"tick",value:function(){this.world.pipes.children.forEach(function(e){e.waterSpeed=0}),this.world.buildings.children.forEach(function(e){e.tick(),0!==e.getWater()&&e.isActive()&&(e.pipes.forEach(function(t){if(t.isActive()){var n,r,o=t.getOther(e),a=i(o,2);if(n=a[0],r=a[1],n.isActive()){if(n.getWater()<n.getCapacity()){var u=Math.min(n.getCapacity()-n.getWater(),Math.min(e.getWater(),t.getCapacity()-Math.abs(t.waterSpeed)));n.addWater(u),t.waterSpeed+=r*u,e.lowerWater(u)}}else{var s=Math.min(n.getRequiredWater()-n.getWater(),Math.min(e.getWater(),t.getCapacity()-Math.abs(t.waterSpeed)));n.addWater(s),t.waterSpeed+=r*s,e.lowerWater(s)}}else{var A=Math.min(e.getWater(),t.getRequiredWater()-t.getWater());t.addWater(A),e.lowerWater(A)}}),(0,a.shuffle)(e.pipes))}),this.world.pipes.children.forEach(function(e){e.tick(),e.redraw()})}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),u=r(a),s=function(){function e(){i(this,e)}return o(e,[{key:"generateWorld",value:function(e){this.spawnIn(e,new PIXI.Point(0,0))}},{key:"spawnIn",value:function(e,t){this.spawnBuilding(e,new u.default,t)}},{key:"spawnBuilding",value:function(e,t,n){t.x=n.x,t.y=n.y,t.level=1,t.interactive=!0,e.buildings.addChild(t)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),o=r(i),a={width:960,height:640,fullpage:!0};a.fullpage&&(a.width=window.innerWidth,a.height=window.innerHeight),window.app=new o.default(a),window.app.start(),setTimeout(function(){console.log("Destroy!"),document.body.innerHTML=""},24e4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(34),A=r(s),l=n(28),c=r(l),g=n(35),d=r(g),f=n(36),h=r(f),C=n(33),I=r(C),p=function(e){function t(e,n,r,a){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.stages=e,u.settings=n,u.interactionManager=r,u.worldGenerator=a,u.time=0,u.waterDelivered=0,u}return a(t,e),u(t,[{key:"load",value:function(){this.world=new PIXI.Container,this.world.x=this.settings.width/2,this.world.y=this.settings.height/2;var e=new I.default;this.world.board=e,this.world.addChild(e);var t=new PIXI.Container;this.world.pipes=t,this.world.addChild(t);var n=new PIXI.Container;this.world.buildings=n,this.world.addChild(n),this.waterNetworkSimulator=new c.default(this.world),this.editBuildingGui=new h.default(this.world),this.buildCursor=new A.default(this.world,this.editBuildingGui,this.interactionManager,this),this.buildingsBar=new d.default(this.buildCursor),this.buildingsBar.x=this.settings.width/2-150,this.buildingsBar.y=this.settings.height-60,this.waterDelivered=0,this.waterDeliveredText=new PIXI.Text("0",new PIXI.TextStyle({fontSize:40,fill:"#000000"})),this.waterDeliveredText.x=16,this.waterDeliveredText.y=16,this.addChild(this.world),this.addChild(this.buildCursor),this.addChild(this.editBuildingGui),this.addChild(this.buildingsBar),this.addChild(this.waterDeliveredText),this.worldGenerator.generateWorld(this.world)}},{key:"tick",value:function(){this.waterNetworkSimulator.tick();var e=t.MIN_ZOOM_OUT+this.time/t.ZOOM_OUT_DURATION*(t.MAX_ZOOM_OUT-t.MIN_ZOOM_OUT);e<=t.MAX_ZOOM_OUT&&(this.world.scale.x=1/e,this.world.scale.y=1/e,this.buildCursor.scale.x=1/e,this.buildCursor.scale.y=1/e),this.time+=1,this.waterDeliveredText.text=""+this.waterDelivered}},{key:"restart",value:function(){this.unload(),this.load()}},{key:"unload",value:function(){this.removeChild(this.world),this.removeChild(this.buildCursor),this.removeChild(this.editBuildingGui),this.removeChild(this.buildingsBar),this.removeChild(this.waterDeliveredText),this.buildingsBar.destructor(),this.waterNetworkSimulator=void 0,this.world=void 0,this.buildCursor=void 0,this.editBuildingGui=void 0,this.buildingsBar=void 0,this.waterDeliveredText=void 0}}]),t}(PIXI.Container);t.default=p,p.MIN_ZOOM_OUT=.6,p.MAX_ZOOM_OUT=2,p.ZOOM_OUT_DURATION=25e3},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),A=r(s),l=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.stages=e,a.topScore=n,a.settings=r,a.myScore=-1,a}return a(t,e),u(t,[{key:"addScore",value:function(e){this.topScore.addScore(e),this.myScore=this.topScore.getTop(t.TOP_COUNT).indexOf(e)}},{key:"load",value:function(){var e=this;this.background=new PIXI.Graphics,this.background.cacheAsBitmap=!0,this.background.beginFill(t.BACKGROUND_COLOR),this.background.drawRect(0,0,this.settings.width,this.settings.height),this.scores=new PIXI.Container;var n=0;this.topScore.getTop(t.TOP_COUNT).forEach(function(t){var r=n%10,i=Math.floor(n/10),o="#E1303C";e.myScore===n&&(o="#9FBC12");var a=new PIXI.Text(t,new PIXI.TextStyle({fontSize:14,fill:o}));a.x=(r+1)*(e.settings.width/11),a.y=(i+1)*(e.settings.height/6),a.anchor.x=.5,a.anchor.y=.5,e.scores.addChild(a),n++}),this.crashedTextGuide=new PIXI.Text("Press space to continue",new PIXI.TextStyle({fontSize:14,fill:"#9FBC12"})),this.crashedTextGuide.x=this.settings.width/2,this.crashedTextGuide.y=this.settings.height-16,this.crashedTextGuide.anchor.x=.5,this.crashedTextGuide.anchor.y=1,this.gameByText=new PIXI.Text("Game by Ienze (Dominik Gmiterko)",new PIXI.TextStyle({fontSize:10,fill:"#9FBC12"})),this.gameByText.x=16,this.gameByText.y=this.settings.height-16,this.gameByText.anchor.x=0,this.gameByText.anchor.y=1,this.gameByText.interactive=!0,this.gameByText.click=function(){var e=window.open("http://ienze.me","_blank");e.focus()},this.gameAtText=new PIXI.Text("play at ienze.me/trainwreck",new PIXI.TextStyle({fontSize:10,fill:"#9FBC12"})),this.gameAtText.x=this.settings.width-16,this.gameAtText.y=this.settings.height-16,this.gameAtText.anchor.x=1,this.gameAtText.anchor.y=1,this.addChild(this.background),this.addChild(this.scores),this.addChild(this.crashedTextGuide),this.addChild(this.gameByText),this.addChild(this.gameAtText),this.keySpace=new A.default(32)}},{key:"tick",value:function(){this.keySpace.isDown&&this.stages.changeStage("play")}},{key:"unload",value:function(){this.removeChild(this.background),this.removeChild(this.scores),this.removeChild(this.crashedTextGuide),this.removeChild(this.gameByText),this.removeChild(this.gameAtText),this.keySpace.close(),this.keySpace=void 0,this.background=void 0,this.scores=void 0,this.crashedTextGuide=void 0,this.gameByText=void 0,this.gameAtText=void 0}}]),t}(PIXI.Container);t.default=l,l.BACKGROUND_COLOR=16777215,l.TOP_COUNT=40},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.cacheAsBitmap=!0,e.graphics=new PIXI.Graphics,e.graphics.cacheAsBitmap=!0,e.addChild(e.graphics),e.drawTerrain(new PIXI.Point(-2e3,-2e3),new PIXI.Point(2e3,2e3)),e}return o(t,e),a(t,[{key:"drawTerrain",value:function(e,t){this.terrainSize={from:e,to:t,size:{x:t.x-e.x,y:t.y-e.y}},this.graphics.beginFill(1118481),this.graphics.drawRect(e.x,e.y,t.x-e.x,t.y-e.y);for(var r=new PIXI.Sprite.fromImage(n(4)),i=Math.ceil(this.terrainSize.size.x/r.width),o=Math.ceil(this.terrainSize.size.y/r.height),a=0;a<i;a++)for(var u=0;u<o;u++){var s=PIXI.Sprite.fromImage(n(4));s.x=this.terrainSize.from.x+a*r.width,s.y=this.terrainSize.from.y+u*r.height,s.anchor.x=.5,s.anchor.y=.5,Math.random()<.2&&(s.scale.x=-1),this.addChild(s);var A=PIXI.Sprite.fromImage(n(4));A.x=this.terrainSize.from.x+a*r.width+r.width/2,A.y=this.terrainSize.from.y+u*r.height+r.height/2,A.anchor.x=.5,A.anchor.y=.5,Math.random()<.2&&(A.scale.x=-1),this.addChild(A)}}},{key:"randomPoint",value:function(){var e=this.terrainSize.from.x+Math.random()*(this.terrainSize.to.x-this.terrainSize.from.x),t=this.terrainSize.from.y+Math.random()*(this.terrainSize.to.y-this.terrainSize.from.y);return new PIXI.Point(e,t)}}]),t}(PIXI.Container);t.default=u,u.WATER_HEIGHT=.1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(8),A=r(s),l=n(37),c=r(l),g=n(39),d=r(g),f=n(40),h=r(f),C=n(38),I=r(C),p=n(1),y=r(p),b=n(3),w=r(b),v=n(2),m=function(e){function t(e,n,r,a){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.world=e,u.editBuildingGui=n,u.interactionManager=r,u.stagePlay=a,u.building=null,u.buildingPipe=!1,u.onChange=function(){},u.mouse_x=0,u.mouse_y=0,u.buildingPipeGraphics=new PIXI.Graphics,e.interactive=!0,e.on("mousemove",function(e){if(u.mouse_x=e.data.global.x/u.scale.x,u.mouse_y=e.data.global.y/u.scale.y,null!==u.building&&(u.building.x=u.mouse_x,u.building.y=u.mouse_y),u.buildingPipe!==!1&&(u.buildingPipeGraphics.clear(),void 0!==u.buildingPipe.from)){var t=16777215;(0,v.distance)(u.buildingPipe.from,{x:(u.mouse_x-u.world.x)*u.world.scale.x,y:(u.mouse_y-u.world.y)*u.world.scale.y})>I.default.MAX_PIPE_LENGTH&&(t=16711680),u.buildingPipeGraphics.lineStyle(2,t).moveTo(u.buildingPipe.from.x+u.world.x/u.world.scale.x,u.buildingPipe.from.y+u.world.y/u.world.scale.y).lineTo(u.mouse_x,u.mouse_y)}}),e.on("mousedown",function(t){if(u.buildingPipe!==!1){var r=u.interactionManager.hitTest(t.data.global,u.world);if(r instanceof y.default)if(void 0===u.buildingPipe.from||u.buildingPipe.from===r)u.buildingPipe.from=r;else{var i=!0;u.buildingPipe.from.pipes.forEach(function(e){var t=e.getOther(u.buildingPipe.from);t[0]===r&&(i=!1)}),(0,v.distance)(u.buildingPipe.from,r)>I.default.MAX_PIPE_LENGTH&&(i=!1),i?(u.buildingPipe.to=r,e.pipes.addChild(new I.default(u.buildingPipe.from,u.buildingPipe.to)),u.buildingPipe=!1,u.removeChild(u.buildingPipeGraphics),u.onChange(null)):(n.setBuilding(null),u.buildingPipe=!1,u.removeChild(u.buildingPipeGraphics),u.onChange(null))}else n.setBuilding(null),u.buildingPipe=!1,u.removeChild(u.buildingPipeGraphics),u.onChange(null)}else if(null!==u.building)u.removeChild(u.building),u.building.interactive=!0,u.building.x=u.building.x-u.world.x/u.world.scale.x,u.building.y=u.building.y-u.world.y/u.world.scale.y,e.buildings.addChild(u.building),e.buildings.children.sort(function(e,t){return e.y-t.y}),u.building=null,u.onChange(null);else{var o=u.interactionManager.hitTest(t.data.global,u.world);o instanceof w.default?n.setBuilding(o):n.setBuilding(null)}}),u}return a(t,e),u(t,[{key:"newBuilding",value:function(e){switch(this.buildingPipe=!1,null!==this.building&&this.removeChild(this.building),this.building=null,e){case"in":this.building=new A.default,this.addChild(this.building),this.onChange("in");break;case"out":this.building=new c.default(this.stagePlay),this.addChild(this.building),this.onChange("out");break;case"point":this.building=new d.default,this.addChild(this.building),this.onChange("point");break;case"pipe":this.buildingPipe={from:void 0,to:void 0},this.buildingPipeGraphics.clear(),this.addChild(this.buildingPipeGraphics),this.onChange("pipe");break;case"reservoir":this.building=new h.default,this.addChild(this.building),this.onChange("reservoir");break;default:throw new Error("Illegal building type")}null!==this.building&&(this.building.x=this.mouse_x,this.building.y=this.mouse_y)}}]),t}(PIXI.Container);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(7),l=r(A),c=function(e){function t(e){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.buildCursor=e,r.buildings=[["in",n(5)],["out",n(10)],["point",n(6)],["pipe",n(45)],["reservoir",n(14)]].map(function(e,t){var n,i,o=u(e,2);n=o[0],i=o[1];var a=new PIXI.Sprite.fromImage(i);return a.x=60*t,a.interactive=!0,a.click=r.newBuilding.bind(r,t),{type:n,keyListener:new l.default(49+t,r.newBuilding.bind(r,t)),sprite:a}}),r.buildings.forEach(function(e){return r.addChild(e.sprite)}),r.buildCursor.onChange=function(e){r.buildings.forEach(function(t){t.type===e?t.sprite.alpha=.5:t.sprite.alpha=1})},r}return a(t,e),s(t,[{key:"newBuilding",value:function(e){this.buildCursor.newBuilding(this.buildings[e].type)}},{key:"destructor",value:function(){this.buildings.forEach(function(e){return e.keyListener.close()}),this.buildings=void 0}}]),t}(PIXI.Container);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),A=r(s),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.world=e,n.building=null,A.default.LEVELING_ENABLED?(n.background=new PIXI.Graphics,n.background.cacheAsBitmap=!0,n.background.drawRect(),n.background.beginFill(13421772),n.background.drawRect(-80,10,160,100),n.background.drawPolygon([new PIXI.Point(0,0),new PIXI.Point(5,10),new PIXI.Point(-5,10)]),n.background.endFill(),n.addChild(n.background),n.textLevel=new PIXI.Text("Level 0"),n.textLevel.y=8,n.textLevel.anchor.x=.5,n.addChild(n.textLevel),n.textDowngrade=new PIXI.Text("Downgrade"),n.textDowngrade.anchor.x=.5,n.textDowngrade.y=40,n.textDowngrade.interactive=!0,n.textDowngrade.click=function(){n.building.downgrade(),n.building.level>0?n.setBuilding(n.building):n.setBuilding(null)},n.addChild(n.textDowngrade),n.textUpgrade=new PIXI.Text("Upgrade"),n.textUpgrade.anchor.x=.5,n.textUpgrade.y=72,n.textUpgrade.interactive=!0,n.textUpgrade.click=function(){n.building.upgrade(),n.setBuilding(n.building)},n.addChild(n.textUpgrade)):(n.background=new PIXI.Graphics,n.background.cacheAsBitmap=!0,n.background.drawRect(),n.background.beginFill(13421772),n.background.drawRect(-80,10,160,46),n.background.drawPolygon([new PIXI.Point(0,0),new PIXI.Point(5,10),new PIXI.Point(-5,10)]),n.background.endFill(),n.addChild(n.background),n.textDestroy=new PIXI.Text("Destroy"),n.textDestroy.anchor.x=.5,n.textDestroy.y=8,n.textDestroy.interactive=!0,n.textDestroy.click=function(){n.building.downgrade(),n.building.level>0?n.setBuilding(n.building):n.setBuilding(null)},n.addChild(n.textDestroy)),n.visible=!1,n}return a(t,e),u(t,[{key:"setBuilding",value:function(e){this.building=e,this.visible=!1,null!==this.building&&(A.default.LEVELING_ENABLED&&(this.textLevel.text="Level "+this.building.level),this.x=this.building.x*this.world.scale.x+this.world.x,this.y=this.building.y*this.world.scale.y+this.world.y,this.visible=!0)}}]),t}(PIXI.Container);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},A=n(1),l=r(A),c=function(e){function t(e){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[n(11),n(12),n(13)]));return r.stagePlay=e,r.sprite.scale.x=.2,r.sprite.scale.y=.2,r}return a(t,e),u(t,[{key:"getCapacity",value:function(){return this.level}},{key:"tick",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tick",this).call(this),this.isActive()&&(this.stagePlay.waterDelivered+=this.water,this.water=0)}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),A=r(s),l=n(1),c=r(l),g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e instanceof c.default||!n instanceof c.default)throw new Error("Wrong structure type, pipes can connect only buildings.");return r.from=e,e.pipes.push(r),r.to=n,n.pipes.push(r),r.x=(e.x+n.x)/2,r.y=(e.y+n.y)/2,r.waterSpeed=0,r.graphics=new PIXI.Graphics,r.redraw(),r.addChild(r.graphics),r}return a(t,e),u(t,[{key:"getOther",value:function(e){if(this.from===e)return[this.to,1];if(this.to===e)return[this.from,-1];throw new Error("Illegal building provided")}},{key:"getCapacity",value:function(){return this.level}},{key:"redraw",value:function(){this.graphics.clear();var e=null;e=this.waterSpeed>0?65536*Math.floor(255*(Math.abs(this.waterSpeed)/this.getCapacity())):1*Math.floor(255*(Math.abs(this.waterSpeed)/this.getCapacity())),this.graphics.lineStyle(2,e).moveTo(this.from.x-this.x,this.from.y-this.y).lineTo(this.to.x-this.x,this.to.y-this.y)}}]),t}(A.default);t.default=g,g.MAX_PIPE_LENGTH=200},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),A=r(s),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n(6)))}return a(t,e),u(t,[{key:"getCapacity",value:function(){return this.level}}]),t}(A.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),A=r(s),l=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[n(15),n(16),n(17),n(18)]));return e.sprite.scale.x=.2,e.sprite.scale.y=.2,e}return a(t,e),u(t,[{key:"getCapacity",value:function(){return 1e3*this.level}}]),t}(A.default);t.default=l},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,u,s=n(e),A=1;A<arguments.length;A++){r=Object(arguments[A]);for(var l in r)o.call(r,l)&&(s[l]=r[l]);if(i){u=i(r);for(var c=0;c<u.length;c++)a.call(r,u[c])&&(s[u[c]]=r[u[c]])}}return s}},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=n(9);e.exports=i;var o=r(!0),a=r(!1),u=r(null),s=r(void 0),A=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return u;if(void 0===e)return s;if(e===!0)return o;if(e===!1)return a;if(0===e)return A;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof i&&u.then===i.prototype.then){for(;3===u._81;)u=u._65;return 1===u._81?r(a,u._65):(2===u._81&&n(u._65),void u.then(function(e){r(a,e)},n))}var s=u.then;if("function"==typeof s){var A=new i(s.bind(u));return void A.then(function(e){r(a,e)},n)}}t[a]=u,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){A=!1,u._10=null,u._97=null}function i(e){function t(t){(e.allRejections||a(c[t].error,e.whitelist||s))&&(c[t].displayId=l++,e.onUnhandled?(c[t].logged=!0,e.onUnhandled(c[t].displayId,c[t].error)):(c[t].logged=!0,o(c[t].displayId,c[t].error)))}function n(t){c[t].logged&&(e.onHandled?e.onHandled(c[t].displayId,c[t].error):c[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+c[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+c[t].displayId+".")))}e=e||{},A&&r(),A=!0;var i=0,l=0,c={};u._10=function(e){2===e._81&&c[e._72]&&(c[e._72].logged?n(e._72):clearTimeout(c[e._72].timeout),delete c[e._72])},u._97=function(e,n){0===e._45&&(e._72=i++,c[e._72]={displayId:null,
error:n,timeout:setTimeout(t.bind(null,e._72),a(n,s)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var u=n(9),s=[ReferenceError,TypeError,RangeError],A=!1;t.disable=r,t.enable=i},function(e,t){(function(t){"use strict";function n(e){u.length||(a(),s=!0),u[u.length]=e}function r(){for(;A<u.length;){var e=A;if(A+=1,u[e].call(),A>l){for(var t=0,n=u.length-A;t<n;t++)u[t]=u[t+A];u.length-=A,A=0}}u.length=0,A=0,s=!1}function i(e){var t=1,n=new g(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,u=[],s=!1,A=0,l=1024,c="undefined"!=typeof t?t:self,g=c.MutationObserver||c.WebKitMutationObserver;a="function"==typeof g?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(t,function(){return this}())},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return I.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function A(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(I.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(I.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(I.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(I.arrayBuffer&&I.blob&&y(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!I.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):I.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},I.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},I.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=g(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function h(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function C(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var I={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(I.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&p.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},I.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},c.call(d.prototype),c.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];C.redirect=function(e,t){if(v.indexOf(t)===-1)throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=C,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:h(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new C(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&I.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]);
//# sourceMappingURL=main.0eeb2abb.js.map